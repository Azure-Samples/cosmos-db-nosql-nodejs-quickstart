<!doctype html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
    <title>Azure Cosmos DB for NoSQL | Node.js Quickstart</title>
    <link rel="shortcut icon" href="favicon.ico">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" integrity="sha256-MBffSnbbXwHCuZtgPYiwMQbfE7z+GOZ7fBPCNB06Z98=" crossorigin="anonymous" />
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.2/font/bootstrap-icons.min.css" integrity="sha256-SD4b9urSXVSzdFbPDlHqAiDZ3gPva6Ki2MPzSkvDTBc=" crossorigin="anonymous" />
</head>
<body data-bs-theme="dark">
    <main class="container">
        <h1 class="my-5 text-center">
            Azure Cosmos DB for NoSQL | Node.js Quickstart
        </h1>
        <pre id="console" class="bg-light text-dark fw-light font-monospace mt-5 p-2">
            &#x200B;
        </pre>
        <section class="d-flex justify-content-center">
            <div class="list-group py-2">
                <button id="runAgainButton" class="list-group-item list-group-item-action active" aria-current="true">
                    <i class="bi bi-arrow-clockwise me-2"></i>
                    Run
                </button>
                <a href="https://learn.microsoft.com/azure/cosmos-db/nosql/quickstart-java#walk-through-the-java-library-code"
                    class="list-group-item list-group-item-action" target="_blank">
                    <i class="bi bi-book me-2"></i>
                    Walk through the code for this sample application
                    <small class="ms-1 align-top">
                        <i class="bi bi-box-arrow-up-right" style="font-size: 0.65rem;"></i>
                    </small>
                </a>
                <a href="https://learn.microsoft.com/azure/cosmos-db/nosql/"
                    class="list-group-item list-group-item-action" target="_blank">
                    <i class="bi bi-lightbulb me-2"></i>
                    Learn more about Azure Cosmos DB for NoSQL
                    <small class="ms-1 align-top">
                        <i class="bi bi-box-arrow-up-right" style="font-size: 0.65rem;"></i>
                    </small>
                </a>
            </div>
        </section>
    </main>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.min.js" integrity="sha256-YMa+wAM6QkVyz999odX7lPRxkoYAan8suedu4k2Zur8=" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/jquery@3.7.1/dist/jquery.min.js" integrity="sha256-/JqT3SQfawRcv/BIHPThkBvs0OEvtFFmqPF/lYI/Cxo=" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/socket.io-client@4.7.2/dist/socket.io.min.js" integrity="sha256-g99KvH7slB8dKa4lToC6wLuC05j74ujuTqKn78jnBPE=" crossorigin="anonymous"></script>
    <script type="text/javascript">
        $(function () {
            const socket = io();

            socket.on('connect', function() {
                console.log('Connected!');
                $('#console').html('&#x200B;'); // Zero-width space
            
                socket.on('new_message', function(message) {
                    console.dir(message);
                    $('#console').append(`${message}\n`);
                });

                socket.emit('start', {});
            });

            $('#runAgainButton').click(function() {
                $('#console').html('&#x200B;'); // Zero-width space
                socket.emit('start', {});
            });
        });
    </script>
</body>
</html>